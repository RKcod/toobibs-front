<app-navbar></app-navbar>
<div class="container mt-4" style="padding-top: 86px;">
  <div class="card">
    <div class="row">
      <div class="col-md-12">
        <div class="justify-content-center text-center" style="width: 100%; margin-bottom: 16px;">
          <div class="card-body">
            <h5 class="text-dark-b text-left mt-4" style="font-weight: lighter;">
              Editez votre profile

            </h5><br>


            <div class="d-flex">
              <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-pills" orientation="vertical">
                <li ngbNavItem="top">
                  <a ngbNavLink>Informations Générales</a>
                  <ng-template ngbNavContent>

                    <form name="proform" class=" justify-content-center text-center" (ngSubmit)="save()">
                      <div class="row">
                        <div class="col-md-12">
                          <div>
                            <img src="{{profile}}" width="130" style="margin: auto;
    display: block;
    border-radius: 50%;">
                            <label>Choisir une nouvelle photo de profil</label><br>
                            <input type="file" accept=".png,.jpg,.jpeg" class="btn btn-secondary" name="file"
                              (change)="onFileChange($event)" /><br><br>

                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-6">

                          <div class="input-group-pro mb-1 input-group">
                            <input placeholder="Nom" type="text" class="input-pro input-login  form-control"
                              name="first_name" [(ngModel)]="data.first_name">
                          </div>
                          <div class="input-group-pro mb-1 input-group">
                            <input placeholder="Prenom" type="text" class="input-pro input-login form-control"
                              name="last_name" [(ngModel)]="data.last_name">
                          </div>
                          <div class="input-group-pro mb-1 input-group" *ngIf="user.user_type == 'PATIENT'">
                            <input placeholder="Adresse Mail" type="email" class="input-pro input-login form-control"
                              name="email" [(ngModel)]="data.email">
                          </div>

                          <div class="input-group-pro mb-1 input-group" *ngIf="user.user_type == 'DOCTOR'">
                            <!--input placeholder="Spécialité" type="text"-->
                            <select class="input-pro input-login form-control" name="speciality"
                              [(ngModel)]="data.speciality">
                              <option value="">Spécialité</option>
                              <option [value]="s.real_id" *ngFor="let s of specialities">{{s.name}}</option>
                            </select>
                          </div>
                          <div [formGroup]="otherAddresses" *ngIf="user.user_type == 'DOCTOR'">
                            <h6>Mes Addresses</h6>
                            <div class="input-group-pro mb-1 input-group" *ngFor="let address of addressList">
                <li class="input-pro input-login form-control" style="display: flex;justify-content: space-between;">
                  <input type="radio" name="selectedAddress" [value]="address.real_id"
                    (change)="onAddressSelected(address.real_id)" [checked]="address.address === data.address">
                  <span> {{address.address}}</span>
                  <span style="cursor: pointer;color:red;" (click)="onDelete(address.real_id)">Supprimer</span>
                </li>
            </div>

            <!-- <nav aria-label="Page navigation example">
                              <ul class="pagination justify-content-end">
                                <li class="page-item disabled">
                                  <a class="page-link" href="#" tabindex="-1">Previous</a>
                                  <input placeholder="Adresse Cabinet" [formControl]="address" type="text"
                                class="input-pro input-login form-control" name="address">
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                  <a class="page-link" href="#">Next</a>
                                </li>
                              </ul>
                            </nav> -->
          </div>
          <div style="display: block;margin-top:20px">
            <a mat-button>Ajouter une addresse</a>
            <input placeholder="Adresse Cabinet" [(ngModel)]="address_name" name="address_name" type="text"
              class="input-pro input-login form-control" style="margin: 10px 0px 10px 42px">
            <a style="color: rgb(29, 135, 187); letter-spacing: 0.9px; margin-left: 25px; cursor:pointer;"
              (click)="saveAddress()" mat-button>Enregistrer</a>
          </div>
        </div>
        <div class="col-md-6">
          <div class="input-group-pro mb-1 input-group">
            <input placeholder="Téléphone" type="text" class="input-pro input-login form-control" name="phone"
              id="phone" style="width: 100%;">

          </div>
          <div class="input-group-pro mb-1 input-group" *ngIf="user.user_type == 'DOCTOR'">
            <input placeholder="Numéro d'ordre des médecins" type="text" class="input-pro input-login form-control"
              name="doctor_serial_number" [(ngModel)]="data.doctor_serial_number">
          </div>
          <div class="input-group-pro mb-1 input-group">
            <input placeholder="Changez votre mot de passe" type="password" class="input-pro input-login form-control"
              name="password" [(ngModel)]="password">
          </div>
          <div class="mt-3 form-group">
            <label class="" style="color: rgb(29, 135, 187); letter-spacing: 0.9px; margin-right: 9%;">Sexe
              ({{data.gender}}):
            </label>
            <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic" [(ngModel)]="data.gender">
              <label ngbButtonLabel class="btn-secondary">
                <input ngbButton type="radio" value="Masculin"> Masculin
              </label>
              <label ngbButtonLabel class="btn-danger">
                <input ngbButton type="radio" value="Feminin"> Feminin
              </label>
            </div>

          </div><br>
          <div class="mt-3 form-group" *ngIf="user.user_type == 'DOCTOR'">
            <div><label class=""
                style="color: rgb(29, 135, 187); letter-spacing: 0.9px; margin-right: 9%;">Téléconsultation
                ?</label>
              <div class="custom-checkbox custom-control custom-control-inline"><input type="radio"
                  id="exampleCustomInline" name="do_teleconsult" value="true" class="custom-control-input"
                  [checked]="data.do_teleconsult"><label class="custom-control-label"
                  for="exampleCustomInline">Oui</label></div>
              <div class="custom-checkbox custom-control custom-control-inline"><input type="radio"
                  id="exampleCustomInline2" name="do_teleconsult" value="false" class="custom-control-input"
                  [checked]="!data.do_teleconsult"><label class="custom-control-label"
                  for="exampleCustomInline2">Non</label></div>
            </div>
          </div>
        </div>
        <div class="col-md-6"></div>
        <div class="col-md-6">
          <button type="submit" class="mt-2 mb-3 btn btn-secondary"
            style="width: 70%; background: 0% 0% no-repeat padding-box padding-box rgb(29, 135, 187);">
            Enregistrer
          </button>
        </div>
      </div>


      </form>
      </ng-template>
      </li>
      <li ngbNavItem="academique" *ngIf="user.user_type == 'DOCTOR'">
        <a ngbNavLink>Parcours académique</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-md-6 text-left">
              <h3>Votre parcours académique</h3>
              <span *ngIf="filterMeta('ACADEMIQUE').length == 0">Aucune donnée</span>
              <div *ngFor="let e of filterMeta('ACADEMIQUE'); index as i">
                <p>
                  <span style="font-size: 1.2em;">{{e.start_year}} - {{e.end_year}}</span><br>
                  <span style="font-weight: bold;">{{e.title}} : {{e.at}}</span><br>
                  <span>{{e.type}}</span><br>
                  <span>{{e.description}}</span><br>
                </p>
                <a (click)="open('ACADEMIQUE', e.id)">Modifier</a> | <a (click)="openDelete(e.id)">Supprimer</a>
                <hr *ngIf="i+1 < usermetas.length">
              </div>
              <br>
              <button type="submit" class="mt-2 mb-3 btn btn-secondary" (click)="open('ACADEMIQUE', 0)"
                style="width: 70%; background: 0% 0% no-repeat padding-box padding-box rgb(29, 135, 187);">
                Ajouter
              </button>
            </div>
          </div>
        </ng-template>
      </li>
      <li ngbNavItem="experience" *ngIf="user.user_type == 'DOCTOR'">
        <a ngbNavLink>Expériences</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-md-6 text-left">
              <h3>Votre parcours professionnelle</h3>
              <span *ngIf="filterMeta('EXPERIENCE').length == 0">Aucune donnée</span>
              <div *ngFor="let e of filterMeta('EXPERIENCE'); index as i">
                <p>
                  <span style="font-size: 1.2em;">{{e.start_year}} - {{e.end_year}}</span><br>
                  <span style="font-weight: bold;">{{e.title}} : {{e.at}}</span><br>
                  <span>{{e.type}}</span><br>
                  <span>{{e.description}}</span><br>
                </p>
                <a (click)="open('EXPERIENCE', e.id)">Modifier</a> | <a (click)="openDelete(e.id)">Supprimer</a>
                <hr *ngIf="i+1 < usermetas.length">
              </div>
              <br>
              <button type="submit" class="mt-2 mb-3 btn btn-secondary" (click)="open('EXPERIENCE', 0)"
                style="width: 70%; background: 0% 0% no-repeat padding-box padding-box rgb(29, 135, 187);">
                Ajouter
              </button>
            </div>
          </div>
        </ng-template>
      </li>
      <li ngbNavItem="certification" *ngIf="user.user_type == 'DOCTOR'">
        <a ngbNavLink>Certifications</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-md-6 text-left">
              <h3>Vos certifications</h3>
              <span *ngIf="filterMeta('CERTIFICATION').length == 0">Aucune donnée</span>
              <div *ngFor="let e of filterMeta('CERTIFICATION'); index as i">
                <p>
                  <span style="font-size: 1.2em;">{{e.start_year}} - {{e.end_year}}</span><br>
                  <span style="font-weight: bold;">{{e.title}} : {{e.at}}</span><br>
                  <span>{{e.type}}</span><br>
                  <span>{{e.description}}</span><br>
                </p>
                <a (click)="open('CERTIFICATION', e.id)">Modifier</a> | <a (click)="openDelete(e.id)">Supprimer</a>
                <hr *ngIf="i+1 < usermetas.length">
              </div>
              <br>
              <button type="submit" class="mt-2 mb-3 btn btn-secondary" (click)="open('CERTIFICATION', 0)"
                style="width: 70%; background: 0% 0% no-repeat padding-box padding-box rgb(29, 135, 187);">
                Ajouter
              </button>
            </div>
          </div>
        </ng-template>
      </li>
      <li ngbNavItem="middle" *ngIf="user.user_type == 'DOCTOR'">
        <a ngbNavLink>Facturation</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-md-6 text-left">
              <form (ngSubmit)="savePrices()">
                <div class=" mb-1 input-group">
                  <label>Monnaie</label><br>
                  <select placeholder="Monnaie" name="type" [(ngModel)]="data_prices.currency"
                    class="input-pro input-login input-shadow form-control">
                    <option value="EUR">EUR</option>
                    <option value="XOF">XOF</option>
                  </select>
                </div>
                <br><br>

                <label>Frais de consultation en cabinet ({{data_prices.currency}})</label><br>
                <div class=" mb-1 input-group">
                  <input placeholder="Frais de consultation en cabinet" type="number"
                    class="input-pro input-login form-control input-shadow" name="price_cabinet_consultation"
                    [(ngModel)]="data_prices.price_cabinet_consultation">
                </div>
                <br>
                <label>Frais de consultation à domicile ({{data_prices.currency}})</label><br>
                <div class=" mb-1 input-group">
                  <input placeholder="Frais de consultation à domicile" type="number"
                    class="input-pro input-login form-control input-shadow" name="price_house_consultation"
                    [(ngModel)]="data_prices.price_house_consultation">
                </div>
                <br>
                <label *ngIf="user.do_teleconsult == 1">Frais de téléconsultation ({{data_prices.currency}}
                  )</label><br>
                <div class=" mb-1 input-group" *ngIf="user.do_teleconsult == 1">
                  <input placeholder=" Frais de téléconsultation" type="number"
                    class="input-pro input-login form-control input-shadow" name="price_teleconsultation"
                    [(ngModel)]="data_prices.price_teleconsultation">
                </div>
                <br>
                <br>
                <button type="submit" class="mt-2 mb-3 btn btn-secondary"
                  style="width: 70%; background: 0% 0% no-repeat padding-box padding-box rgb(29, 135, 187);">
                  Enregistrer
                </button>
              </form>
            </div>
          </div>
        </ng-template>
      </li>
      </ul>

      <div [ngbNavOutlet]="nav" class="ml-4"></div>
    </div>
  </div>
</div>
</div>
</div>
</div>

</div>